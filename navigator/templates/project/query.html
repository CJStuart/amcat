{% extends "project/base.html" %}
{% load compress %}
{% load staticfiles %}


{% block help_context %}Querying{% endblock %}

{% block css %}
{% compress css %}
    <link href="{% static 'css/selection.css' %}" rel="stylesheet" type="text/css" media="screen" />
    <link href="{% static 'components/bootstrap-datepicker/dist/css/bootstrap-datepicker3.css' %}" rel="stylesheet" type="text/css" media="screen" />
    <link href="{% static 'components/bootstrap-multiselect/dist/css/bootstrap-multiselect.css' %}" rel="stylesheet" type="text/css" media="screen" />
    <link href="{% static 'components/highlight/src/styles/github.css' %}" rel="stylesheet" type="text/css" media="screen" />
{% endcompress %}
{% endblock %}
{% block javascript %}
  <!-- Bower dependencies -->
  {% if articlesets %}
  <script src="{% static 'components/bootstrap-datepicker/dist/js/bootstrap-datepicker.js' %}"></script>
  <script src="{% static 'js/jshashtable.js' %}"></script>
  <script src="{% static 'js/jshashset.js' %}"></script>
  <script src="{% static 'components/bootstrap-multiselect/dist/js/bootstrap-multiselect.js' %}"></script>

  <!-- query.js and its dependencies are loaded through requirejs -->
  <script data-main="{% static "js/query/main" %}" src="{% static 'components/requirejs/require.js' %}"></script>
 {% endif %}
{% endblock %}

{% block title %}Project {{context.id}} - {{context.name}}{% endblock %}

{% block content %}
  {% if not articlesets %}
      {% include "project/query/no_articlesets.html" %}
  {% else %}
      <form data-sets="{{ articleset_ids_json }}" data-user="{{ user_id }}" data-query="{{ query_id }}" id="query-form">
          {% csrf_token %}
          {% include "project/query/form.html" %}
      </form>

      {% include "project/query/loading_dialog.html" %}
      {% include "project/query/articlelist_dialog.html" %}
      {% include "project/query/save_dialog.html" %}
      {% include "project/query/change_articlesets_dialog.html" %}
  {% endif %}


{% endblock %}

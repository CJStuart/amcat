{% extends "project/base.html" %}
{% load compress %}
{% load staticfiles %}


{% block help_context %}Querying{% endblock %}

{% block css %}
{% compress css %}
    <link href="{% static 'css/selection.css' %}" rel="stylesheet" type="text/css" media="screen" />
    <link href="{% static 'components/jqplot-bower/dist/jquery.jqplot.css' %}" rel="stylesheet" type="text/css" media="screen" />
    <link href="{% static 'components/bootstrap-datepicker/css/datepicker3.css' %}" rel="stylesheet" type="text/css" media="screen" />
    <link href="{% static 'components/bootstrap-multiselect/dist/css/bootstrap-multiselect.css' %}" rel="stylesheet" type="text/css" media="screen" />
{% endcompress %}
{% endblock %}
{% block javascript %}
  <!--[if lt IE 9]>
      <script type="text/javascript" src="{{MEDIA_URL}}js/jqplot/excanvas.min.js"></script>
  <![endif]-->

  {% compress js %}
      <!-- Bower dependencies -->
      {% if articlesets %}
      <script type="text/javascript" src="{% static 'components/jquery.hotkeys/jquery.hotkeys.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/jshashtable-3.0.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/jshashset-3.0.js' %}"></script>
      <script type="text/javascript" src="{% static 'components/moment/moment.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/query_dates.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/query.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/poll.js' %}"></script>
      <script type="text/javascript" src="{% static 'components/jquery-csv/src/jquery.csv.js' %}"></script>
      <script type="text/javascript" src="{% static 'components/bootstrap-datepicker/js/bootstrap-datepicker.js' %}"></script>
      <script type="text/javascript" src="{% static 'components/highcharts/highcharts.js' %}"></script>
      <script type="text/javascript" src="{% static 'components/highcharts/modules/data.js' %}"></script>
      <script type="text/javascript" src="{% static 'components/highcharts/modules/heatmap.js' %}"></script>
      <script type="text/javascript" src="{% static 'components/highcharts/modules/exporting.js' %}"></script>
      <script type="text/javascript" src="{% static 'components/papaparse/papaparse.js' %}"></script>
      <script type="text/javascript" src="{% static 'components/bootstrap-multiselect/dist/js/bootstrap-multiselect.js' %}"></script>
      {% endif %}
  {% endcompress %}
{% endblock %}

{% block title %}Project {{context.id}} - {{context.name}}{% endblock %}

{% block content %}
  {% if not articlesets %}
      {% include "project/query/articleset_error.html" %}
  {% else %}
      <form data-sets="{{ articleset_ids_json }}" data-user="{{ user_id }}" data-query="{{ query_id }}" id="query-form">
          {% include "project/query/form.html" %}
      </form>

      {% include "project/query/loading_dialog.html" %}
      {% include "project/query/articlelist_dialog.html" %}
      {% include "project/query/save_dialog.html" %}
  {% endif %}


{% endblock %}

{% extends "project/base.html" %}
{% load compress %}
{% load staticfiles %}

{% block css %}
{% compress css %}
<link href="{% static 'css/jquery.codebookeditor.css' %}" rel="stylesheet" type="text/css" />
{% endcompress %}
{% endblock %}

{% block actions %}
{% if can_edit and project.id == object.project.id %}
    <button class="save-changes btn btn-primary">Save changes</button>
    <button class="btn btn-default edit-name"><i class="glyphicon glyphicon-edit"></i> Edit codebook name</button>
{% endif %}
    <a class="btn btn-default export" href="{% url 'codebook-export' project.id codebook.id %} "><i class="glyphicon glyphicon-download"></i> Download codebook</a>
{% if can_edit %}
  {% if project.id == object.project.id %}
    <a class="btn btn-danger confirm delete" data-confirm="Are you sure you want to delete this codebook?" href="{% url 'codebook-delete' context.id codebook.id %}">
        <i class="glyphicon glyphicon-trash"></i> Delete
    </a>
  {% else %}

    <a class="btn btn-warning" href="{% url 'codebook-unlink' context.id codebook.id %}">
        Unlink
    </a>
  {% endif %}
{% endif %}
{% endblock %}

{% block content %}

{% if can_edit and project.id == object.project.id %}
<h1>Codebook editor</h1>
<div name="{{ codebook.id }}" class="codebook">
 <input placeholder="Search.." type="text">
 <p class="btn-group">
  <button class="btn btn-default reorder-alpha">Order Alphabetically</button>
  <button class="btn btn-default reorder-id">Order by Code ID</button>  
 </p>

 <p><span class="label label-info">Usage</span> Hover labels to display options. To inspect the function of an icon, hover it and wait for a description to appear.</p>

 
 <div class="loading-codebook">Loading..</div>
</div>

{% compress js %}
<script src="{% static 'js/jquery.djangofields.js' %}"></script>
<script src="{% static 'js/jquery.codebookeditor.js' %}"></script>
{% endcompress %}
<script>$(".codebook").codebookeditor("{% url "api" %}v4/");</script> 
{% endif %}
{% endblock %}

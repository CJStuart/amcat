<script>
$(document).ready(function(){
    amcat.datatables.create_rest_table($("#{{ id }}-wrapper"), "{{ url|safe }}", {
        "setup_callback" : function(tbl){
            // Setup clickable (redirecting) rows
            {% if rowlink %}
                tbl.fnSetRowlink("{{ rowlink }}", "{{ rowlink_open_in }}");
            {% endif %}
            console.log("{{ rowlink }}");

            // Setup checkboxes for selecting rows.
            {% if checkboxes %}
                tbl.fnRowCheckbox();
            {% endif %}

            // Consider table actions
            tbl.fnTableActions($("#{{ id }}-actions"));
        },
        "name" : "{{ id }}",
        "datatables_options" : {{ options|safe }}
    });

    $("#{{ id }}-wrapper").data("url", "{{ url|safe }}").addClass("amcat-table-wrapper");
 });
</script>
